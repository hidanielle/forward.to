<section class="feature-main">
  <article class="vertical-center">
    <h1>What are you looking forward to?</h1>
    <form name="occasionForm" data-ng-submit="occasionForm.$valid && addOccasion(occasion)" novalidate>
      <div class="field">
        <input id="occasion-name" ng-model="occasion.name" required type="text" placeholder="I'm looking forward to...">
      </div>
      <div class="field">
        <input id="occasion-date" ng-model="occasion.date" placeholder="yyyy-mm-dd" required type="date">
      </div>
      <button type="submit">Start!</button>
    </form>
  </article>
</section>

<section class="feature-content">

  <article>
    <h2>My Countdowns</h2>

    Filter: <input ng-model="query">

    <table class="table countdowns">
      <tr>
        <th>Event</th>
        <th>Date</th>
        <th>Countdown</th>
        <th>Actions</th>
      </tr>
      <tr ng-repeat="occasion in occasions | filter:query | orderBy:orderProp | isFuture track by occasion.id" class="ctdwn-listing">
        <!-- 
        Filter function: uses the query value to create a new array that contains only those records that match the query
        -->
        <td>
          <a href="#/occasions/{{occasion.id}}">
            {{ occasion.name }}
          </a>
        </td>
        <td>
          {{ occasion.date | date }}
        </td>
        <td>
          <span am-time-ago="occasion.date"></span>
        </td>
        <td>
          <button ng-click="removeOccasion(occasion)">Remove</button>
        </td>
      </tr>
    </table>
  </article>

  <article>
    <h2>My Past Countdowns</h2>
    <table class="table countdowns">
      <tr>
        <th>Event</th>
        <th>Date</th>
        <th>Countdown</th>
        <th>Actions</th>
      </tr>
      <tr ng-repeat="occasion in occasions | orderBy:orderProp | isAfter" class="ctdwn-listing">
        <td>
          <a href="#/occasions/{{occasion.id}}">
            {{ occasion.name }}
          </a>
        </td>
        <td>
          {{ occasion.date | date }}
        </td>
        <td>
          <span am-time-ago="occasion.date"></span>
        </td>
        <td>
          <button ng-click="removeOccasion()">Remove</button>
        </td>
      </tr>
    </table>
  </article>

</section>